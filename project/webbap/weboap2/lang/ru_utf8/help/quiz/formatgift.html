<h2>Импорт файлов формата "GIFT" </h2>
<p>GIFT - это наиболее подходящий формат для экспорта вопросов в текстовый файл. Он разработан для облегчения учителям создания вопросов. GIFT поддерживает вопросы множественного выбора, верно/неверно, короткий ответ, вопросы на соответствие, численные вопросы и вопросы с пропущенными словами. Вопросы различных типов могут быть совмещены в одном файле, формат также поддерживает названия вопросов, комментарии к вариантам ответов, отзыв и процентное оценивание.</p>

    <p>Кодировка вашего текстового файла должна быть utf-8 (если вы используете ascii символы). 
    Примеры текстовых файлов вы найдете тут: <a href="<?php echo $CFG->wwwroot; ?>/question/format/gift/examples.txt">gift/examples.txt</a>.</p>

<h3>Основные понятия</h3>

<p>Каждый вопрос в  GIFT не содержит пустых строк. Вопросы разделяются как минимум одной пустой строкой. Для выделения пустой строки можно использовать символ начала новой строки <b>\n</b>. Вы можете использовать комментарии с помощью символов (<b>//</b>) в начале строки комментария.</p>

<h3>Типы вопросов</h3>

<p><u>Множественный выбор:</u><br />
    Для вопросов типа "Множественный выбор" неправильные варианты ответов начинаются со знака тильды(~), правильные - знаком равенства (=).</p>
<pre>
Кто похоронен в могиле Гранта? {~Грант ~Джефферсон =никто}
</pre>
    <p>Формат <u>пропущенное слово</u> автоматически вставляет в предложение линию пропущенного слова (_____). 
    Используя формат пропущенного слова, поместите ответы в то место, где должно быть пропущенное слово.</p>
<pre>
Ленин {~похоронен =родился ~живет} в Симбирске.
</pre>
    <p>Если ответы размещены после отметки пунктуации, поле пропущенного слова будет вставлено для
    формата &quot;пропущенное слово&quot;. Все типы вопросов могут быть созданы в Missing Word.</p>
    <p>Вопросы разделяются пустой строкой. 
    Для удобства варианты ответов могут быть написаны каждый с новой строки. например:</p>
<pre>
День Благодарения празднуется во {
    ~второй
    ~третий
    =четвертый
} вторник ноября.

Японские символы сначала появились в:? {
    ~Индии
    =Китае
    ~Kорее
    ~Египте
}
</pre>

<p><u>Короткий ответ:</u><br />
    Ответы в вопросе "Короткий ответ" начинаются знаком равенства(=), 
    показывающим правильный ответ. Ответы не должны содержать тильду.</p>
<pre>
Кто похоронен в могиле Гранта?{=никто =никого}

два плюс два равно {=четыре =4}.
</pre>
    <p>Если только<u> один </u> правильный ответ, он должен быть написан без знака равенства.</p>

<p><u>Верно/неверно:</u><br />
    В этом типе вопроса необходимо указать, верно ли утверждение.
    Ответ должен быть написан как {TRUE} или {FALSE}, или сокращенно {T} или {F}.</p>
<pre>
Грант похоронен в могиле Гранта.{F}

Солнце встает на Востоке.{T}
</pre>

<p><u>Вопрос на соответствие:</u><br />
    Совпадающие пары начинаются знаком (=) и разделяются знаком "->". Должно быть как минимум три совпадающие пары.</p>
<pre>
Вопрос на соответствие. {
    =подвопрос1 -> подответ1
    =подвопрос2 -> подответ2
    =подвопрос3 -> подответ3
}

Укажите столицы государств: {
    =Канада -> Оттава
    =Италия -> Рим
    =Япония -> Токио
    =Индия  -> Нью Дели
}
</pre>
    <p>Вопросы на соответствие не поддерживают процентное оценивание.</p>

<p><u>Числовой вопрос:</u><br />
    Секция ответа в числовом вопросе должна начинаться с решетки (#). 
   Числовой ответ может включать погрешность, которая пишется после правильного ответа и отделяется двоеточием. 
    Например, если правильный ответ находится в диапазоне от 1.5 до 2.5, тогда вопрос должен быть написан так:  <u>{#2:0.5}</u>. 
    Эта запись показывает что 2 с допуском 0.5 - правильный ответ (т.е. диапазон от 1.5 до 2.5). 
    Если погрешность не определена, то по-умолчанию она устанавливается в ноль.</p>
<pre>
Когда родился Грант? {#1822}

Значение числа Пи (4 цифры после запятой)? {#3.1415:0.0005}.
</pre>
    <p>Диапазон правильных ответов может быть также задан в таком виде: {#<i>Минимальное значение</i>..<i>Максимальное значение</i>}.</p>
<pre>
Значение числа Пи (3 цифры после запятой)? {#3.141..3.142}.
</pre>
    <p>Интерфейс браузера Moodle не поддерживает множественных числовых ответов, код Moodle поддерживает такую возможность, значит и GIFT тоже. 
    Это удобно для определения интервалов правильных ответов и для процентного оценивания. 
    Если используются множественные ответы, то они разделяются знаком равенства подобно вопросу типа короткий ответ.</p>
<pre>
Когда родился Грант? {#
    =1822:0
    =%50%1822:2
}
</pre>
    
<p><u>Эссэ:</u><br />
    Вопрос эссэ это вопрос с пустым полем для ответа. В скобках ничего не нужно писать.</p>
<pre>
Напишите коротко биографию Гранта {}
</pre>

<p><u>Описание:</u><br />
    Вопрос "описание" вообще не требует ответа</p>
<pre>
Следующий набор вопросов будет касаться механики.
</pre>

<h3>ДОПОЛНИТЕЛЬНО</h3>
    <p>Дополнительно в базовых типах вопросов возможны также: 
    название вопроса,комментарии на варианты ответов, отзыв учителя и процентное оценивание.</p>

<p><u>Строка комментария:</u><br />
    Комментарии не импортируются в Moodle. 
    Они используются для упрощения работы с вопросами. 
   Все строки, которые начинаются с двойного обратного слеша (//) не учитываются фильтром.</p>
<pre>
// Далее численные вопросы:
Сколько будет 2+2? {#4}
</pre>

<p><u>Название вопроса:</u><br />
    Название вопроса может быть определено таким образом: перед текстом вопроса с обоих сторон в двойных двоеточиях.</p>
<pre>
::Оригинальные иероглифы::Японские символы пришли из? {=Китай}

</pre>
    <p>Если название вопроса не определено, то как название будет использоваться текст вопроса.</p>

<p><u>Комментарий на вариант ответа:</u><br />
    Комментарий на вариант ответа пишется после ответа и знака "#".</p>
<pre>
Выберите правильный вариант ответа {
    ~неправильный ответ#комментарий к неправильному ответу
    ~другой неправильный ответ#комментарий к нему
    =правильный ответ#Очень хорошо!
}
     
Кто похоронен в могиле Гранта? {
    =никого#отличный ответ!
    =никто#отличный ответ!}
     
     Грант похоронен в могиле Гранта.{FALSE#Неправильно, никто не похоронен в могиле Гранта.#Правильно, очень хорошо.}</pre>
    <p>Для вопросов множественного выбора, комментарий отображается только для варианта, выбранного учеником. 
    Для короткого ответа комментарий отображается только когда ученик введет и отправит правильный ответ. 
    Для вопросов верно/неверно может быть 2 комментария - для случая когда ученик отвечает правильно и неправильно.</p>

<p><u>Процентное оценивание ответов:</u><br />
    Процентные веса ответов доступны для вопросов множественного выбора и короткого ответа. 
    Веса могут заданы после тильды (для множественного выбора) или знака равенства (для короткого ответа) значение веса с обоих сторон заключается в знак % (например, %50%). 
    Эта опция может быть скомбинирована с комментариями на варианты ответов.</p>
<pre>
Сложный вопрос:{~неправильный ответ ~%50%ответ оценивается в половину =полностью оцениваемый ответ}

::Город Иисуса::Иисус Христос из: {
    ~Иерусалима#Это важный город, но ответ неправилен.
    ~%25%Вифлеема#Он родился тут, но вырос в другом городе.
    ~%50%Галилея#Вы должны быть более определенным.
    =Назарета#Да! Это правильный ответ!
}.
     
::Город Иисуса:: Иисус Христос из: {
    =Назарета#Да! Это правильный ответ!
    =%75%Назерета#Правильно, но допущена орфографическая ошибка.
    =%25%Вифлеема#Он родился тут, но вырос в другом городе.
}</pre>
    <p>Заметьте, что последние примеры являются одним и тем же вопросом, первый - множественного выбора, второй - короткий ответ.</p>
   
<p><u>Определение форматирования текста для вопроса</u><br />
    Доступные форматы для форматирования текста:
    <b>moodle</b> (Moodle авто-формат), <b>html</b> (HTML формат), <b>простой</b> 
(Простой формат текста) и <b>markdown</b> (Markdown формат). 
Формат определяется в квадратных скобках перед текстом вопроса. 
<a href="help.php?file=textformat.html">Больше информации о текстовых форматах в Moodle.</a></p>

<pre>
[markdown]День Благодарения отмечают во:  {
    ~второй
    ~третий
    =четвертый
} вторник ноября.
</pre>

<p><u>Множественные ответы:</u><br />
    Опция множественных ответов используется для вопросов типа множественный выбор,
 когда необходимо отметить 2 или больше вариантов ответов. Эта опция включается
 автоматически при определении процентных весов вариантов ответов.</p>
<pre>
Какие люди похоронены в могиле Гранта? {
    ~Никто
    ~%50%Грант
    ~%50%Жена Гранта
    ~Отец Гранта
}
</pre>
    <p>Заметьте что сумма процентных весов ответов должна составлять 100%, 
в обратном случае Moodle выдаст сообщение об ошибке. Для предотвращения этого необходимо просто внимательно проверять сумму, а также включать негативные веса в неправильные варианты ответов.</p>
<pre>
Какие два человек похоронены в могиле Гранта{
    ~%-50%никакие
    ~%50%Грант
    ~%50%Жена Гранта
    ~%-50%Отец Гранта
}
</pre>

<p><u>Специальные символы ~ = # { } :</u><br />
    Эти символы <b> ~ = # { } : </b> контролируются фильтром и не могут быть 
использованы в тесте вопроса.
    Они участвуют в разделении частей вопроса, и называются "Символы управления."
    Но иногда вам приходится использовать эти символы в тексте вопроса, 
например в математических формулах.
    Путь для решения таких проблем -  "пропуск" символов управления. 
    Он заключается в том, что перед символом управления необходимо поставить обратный слеш "\".
    Например:</p>
<pre>
Какое выражение равняется 5? {
    ~ \= 2 + 2
    = \= 2 + 3
    ~ \= 2 + 4
}

::Символы управления GIFT::
Какой символ не является символом управления GIFT формата? {
   ~ \~     # \~ это символ управления.
   ~ \=     # \= это символ управления.
   ~ \#     # \# это символ управления.
   ~ \{     # \{ это символ управления.
   ~ \}     # \} это символ управления.
   = \      # Правильно! \ (обратный слеш)это не символ управления, НО,
 он используется для пропуска  символов.
}</pre>
    <p>При обработке вопроса обратный слеш удаляется и не отображается в Moodle.</p>

<h3>Определение категорий</h3>

<p>Есть возможность изменить категорию, в которую будут помещены вопросы из GIFT файла. 
Вы можете изменять категорию в пределах файла столько раз, сколько нужно. Все вопросы после модификатора вплоть до следующего модификатора или конца файла будут добавлены в указанную категорию. Вплоть до первого модификатора категории будет использоваться категория, указанная на экране импорта. Для того чтобы это работало чекбокс <b>из файла:</b> должен быть отмечен.</p>

<p>Для включения модификатора категории необходимо включить в файл строку (выделенную с обоих сторон  пустыми строками):

<pre>
$CATEGORY: Том/Дик/Гарри
</pre>

или 

<pre>
$CATEGORY: моя_категория
</pre>

...первый пример конкретизирует путь вложенных категорий. В этом случае вопросы будут помещены в  <i>Гарри</i>. Несуществующие категории будут созданы.</p>

<p><u>Другие опции:</u><br />
    Вопросы типа короткий ответ можно сделать чувствительными к регистру: установить &quot;0&quot; в &quot;1&quot; в следующей строке:<br />
    <tt>$question-&gt;usecase = 0;  // игнорирование регистра</tt></p>
<p></p>