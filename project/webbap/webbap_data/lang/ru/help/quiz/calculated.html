<h2>Вычисляемые вопросы</h2>

<p>Такой вопрос предлагает вычислить значение по формуле. Формула представляет из себя шаблон, 
   в который при каждом тестировании подставляются случайные значения из указанных диапазонов.
<br/>Ниже, в сжатом виде, приведена страница редактирования с примером:</p>

<table><tbody>
<tr valign="top">
    <td align="right"><p><b>Вопрос</b></p>
    </td>
    <td>
        <textarea id="questiontext" name="questiontext" rows="5" cols="40" wrap="virtual">Сколько будет {a} + {b} ?</textarea>
</td>
</tr>
<tr valign="top">
    <td align="right"><p><b>Картинка для показа:</b></p></td>
    <td>
    <select name="image"><option value="" selected="selected">Нет</option><option value="grevture.gif">grevture.gif</option></select>
    </td>
</tr>

<tr valign="top">
<td align="right"><p><b>Формула верного ответа:</b></p></td>
    <td>
    <input align="left" type="text" id="formula0" name="answer[]" size="20" value="{a} + {b}">&nbsp;&nbsp;
    <input type="hidden" name="fraction[]" value="1.0">
    </td>
</tr>
<tr valign="top">
    <td align="right"><p><b>Погрешность:</b></p></td>
    <td>
    <input align="left" type="text" id="tolerance0&quot;" name="tolerance[]" size="15" value="0.01">±
    </td>
</tr>
<tr valign="top">
<td align="right"><p><b>Тип погрешности:</b></p></td>
    <td>
    <select name="tolerancetype[]"><option value="1" selected="selected">Относительная</option><option value="2">Номинальная</option><option value="3">Геометрическая</option></select>
    </td>
</tr>
<tr valign="top">
<td align="right"><p><b>Количество значащих цифр:</b></p></td>
    <td>
    <select name="correctanswerlength[]"><option value="1">1</option><option value="2" selected="selected">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option></select>
    </td>
</tr>
</tbody></table>

<p>В полях ввода вопроса и "Формула верного ответа" вы можете видеть {a} и {b}. Эти и другие {имена} могут быть использованы как шаблоны для подстановки конкретных значений при прохождении теста. Верный ответ также вычисляется после подстановки значений в выражение, указанное в поле "Формула верного ответа". Величины, которые могут быть подставлены на место шаблонов могут быть указаны или сгенерированы на следующей странице мастера создания вычисляемых вопросов...</p>

<p>Формула в примере использует операцию +. Также допустимы операции -, * (умножение), / (деление) и % (остаток от деления). Кроме того, вы можете использовать некоторые математические функции языка PHP. </p>

<p>Среди них есть 24 функции с одним аргументом:</p>

<p>
<b>abs</b> - абсолютное значение <br />
<b>acos</b> - арккосинус <br />
<b>acosh</b> - инверсный гиперболический косинус <br />
<b>asin</b> - арксинус <br />
<b>asinh</b> - инверсный гиперболический синус <br />
<b>atan</b> - арктангенс <br />
<b>atanh</b> - инверсный гиперболический тангенс <br />
<b>ceil</b> - округление дробей в сторону увеличения <br />
<b>cos</b> - косинус <br />
<b>cosh</b> - гиперболический косинус <br />
<b>deg2rad</b> - конвертирует число из градусов в радианы <br />
<b>exp</b> - экспонента (e в указаной степени) <br />
<b>expm1</b> - возвращает exp(число) - 1, вычисляемое способом, который обеспечивает точность, даже если значение близко к нулю <br />
<b>floor</b> - округляет дробь в сторону уменьшения <br />
<b>log10</b> - логарифм с основанием 10 <br />
<b>log1p</b> - возвращает log(1 + число), вычисляемое способом, который обеспечивает точность, даже если значение близко к нулю <br />
<b>log</b> - натуральный логарифм <br />
<b>rad2deg</b> - конвертирует число из радиан в градусы <br />
<b>round</b> - округляет число с плавающей точкой/float <br />
<b>sin</b> - синус <br />
<b>sinh</b> - гиперболический синус <br />
<b>sqrt</b> - квадратный корень <br />
<b>tan</b> - тангенс <br />
<b>tanh</b> - гиперболический тангенс</p>

<p>2 функции с двумя аргументами:</p>

<p>
<b>atan2</b> - арктангенс двух переменных <br />
<b>pow</b> - возведение в произвольную степень</p>

<p>А также функции: <br />
<b>max</b> - находит наибольшее значение <br />
<b>min</b> - находит наименьшее значение <br />
которые могут иметь два и более аргументов.</p>

<p>Кроме того, вы можете использовать функцию <b>pi</b>, у которой отсутствуют аргументы, однако не забывайте дописывать после нее круглые скобки. Правильная запись выглядит так: <b>pi()</b>. </p>

<p>Шаблоны могут быть аргументами функций, для этого их нужно заключать в круглые скобки. Например <b>sin({a}) + cos({b}) * 2</b>. Нет никаких ограничений для помещение одной функции внутрь другой, как в этом примере: <b>cos(deg2rad({a} + 90))</b> и т.п.</p>

<p>Более подробно о том как использовать функции языка PHP вы можете найти <a target="phpmathdoc" href="http://www.php.net/manual/ru/ref.math.php">в документации на официальном сайте PHP</a> (на русском языке).</p>

<p>Как и для Числовых вопросов, вы можете указать промежуток, ответы в пределах которого будут считаться правильными. Поле "Погрешность" именно для этого. Однако, есть целых три различных типа погрешности: <b>Относительная, Номинальная</b> и <b>Геометрическая</b>. Если мы укажем что верным ответом на вопрос будет 200 и погрешность установим в 0.5 то различные погрешности будут работать по-разному:</p>

<p><b>Относительная:</b> Допустимый промежуток будет вычислен путем умножения верного ответа на 0.5 (в нашем случае это даст 100). Таким образом верным ответом будет считаться значение в промежутке между 100 и 300 (200 ± 100).<br/>
Это полезно, если величина правильного ответа может сильно отличаться при различных значениях, подставленных в формулу.</p>

<p><b>Номинальная:</b> Это простейший тип погрешности, но не очень гибкий. Верный ответ должен быть между 199.5 и 200.5 (200 ± 0.5).<br/>
Этот тип может использоваться, если величины различных правильных ответов не сильно отличаются.</p>

<p><b>Геометрический:</b> Верхний предел допустимого интервала вычисляется как 200 + 0.5*200, то есть так же, как и для Относительной погрешности. Нижний предел рассчитывается как 200/(1 + 0.5). То есть правильный ответ, в таком случае, должен быть между 133.33 и 300.<br/>
Это полезно для сложных вычислений, где нужно использовать большУю относительную погрешность (в 1 и более) для верхнего предела, но, при этом, она не приемлема для нижнего предела, поскольку это сделает ноль правильным ответом для всех случаев.</p>

<p>Поле "Количество значащих цифр" влияет только на то, как правильный ответ будет отображен в обзорах или отчетах. Например: если в данном поле установлено значение 3, то верный ответ 13.333 будет отображен как 13.3; 1236 будет отображено как 1240; 23 как 23.0 и т.д.</p>

<p>Поля "Коментарий" и "Единица измерения" имеют точно такое же назначение, как и в Числовом вопросе.</p>